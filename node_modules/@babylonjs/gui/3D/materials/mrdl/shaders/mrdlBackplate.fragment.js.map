{"version":3,"file":"mrdlBackplate.fragment.js","sourceRoot":"","sources":["../../../../../../../lts/gui/generated/3D/materials/mrdl/shaders/mrdlBackplate.fragment.ts"],"names":[],"mappings":"AAAA,eAAe;AACf,OAAO,EAAE,WAAW,EAAE,+CAAiC;AAEvD,MAAM,IAAI,GAAG,0BAA0B,CAAC;AACxC,MAAM,MAAM,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA+Lb,CAAC;AACH,aAAa;AACb,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;AACxC,gBAAgB;AAChB,MAAM,CAAC,MAAM,wBAAwB,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC","sourcesContent":["// Do not edit.\nimport { ShaderStore } from \"core/Engines/shaderStore\";\n\nconst name = \"mrdlBackplatePixelShader\";\nconst shader = `uniform vec3 cameraPosition;\rvarying vec3 vPosition;\rvarying vec3 vNormal;\rvarying vec2 vUV;\rvarying vec3 vTangent;\rvarying vec3 vBinormal;\rvarying vec4 vExtra1;\rvarying vec4 vExtra2;\runiform float _Radius_;\runiform float _Line_Width_;\runiform bool _Absolute_Sizes_;\runiform float _Filter_Width_;\runiform vec4 _Base_Color_;\runiform vec4 _Line_Color_;\runiform float _Radius_Top_Left_;\runiform float _Radius_Top_Right_;\runiform float _Radius_Bottom_Left_;\runiform float _Radius_Bottom_Right_;\runiform float _Rate_;\runiform vec4 _Highlight_Color_;\runiform float _Highlight_Width_;\runiform vec4 _Highlight_Transform_;\runiform float _Highlight_;\runiform float _Iridescence_Intensity_;\runiform float _Iridescence_Edge_Intensity_;\runiform vec4 _Iridescence_Tint_;\runiform sampler2D _Iridescent_Map_;\runiform float _Angle_;\runiform bool _Reflected_;\runiform float _Frequency_;\runiform float _Vertical_Offset_;\runiform vec4 _Gradient_Color_;\runiform vec4 _Top_Left_;\runiform vec4 _Top_Right_;\runiform vec4 _Bottom_Left_;\runiform vec4 _Bottom_Right_;\runiform float _Edge_Width_;\runiform float _Edge_Power_;\runiform float _Line_Gradient_Blend_;\runiform float _Fade_Out_;\rvoid FastLinearTosRGB_B353(\rvec4 Linear,\rout vec4 sRGB)\r{\rsRGB.rgb=sqrt(clamp(Linear.rgb,0.0,1.0));\rsRGB.a=Linear.a;\r}\rvoid Round_Rect_Fragment_B332(\rfloat Radius,\rfloat Line_Width,\rvec4 Line_Color,\rfloat Filter_Width,\rvec2 UV,\rfloat Line_Visibility,\rvec4 Rect_Parms,\rvec4 Fill_Color,\rout vec4 Color)\r{\rfloat d=length(max(abs(UV)-Rect_Parms.xy,0.0));\rfloat dx=max(fwidth(d)*Filter_Width,0.00001);\rfloat g=min(Rect_Parms.z,Rect_Parms.w);\rfloat dgrad=max(fwidth(g)*Filter_Width,0.00001);\rfloat Inside_Rect=clamp(g/dgrad,0.0,1.0);\rfloat inner=clamp((d+dx*0.5-max(Radius-Line_Width,d-dx*0.5))/dx,0.0,1.0);\rColor=clamp(mix(Fill_Color,Line_Color,inner),0.0,1.0)*Inside_Rect;\r}\rvoid Iridescence_B343(\rvec3 Position,\rvec3 Normal,\rvec2 UV,\rvec3 Axis,\rvec3 Eye,\rvec4 Tint,\rsampler2D Texture,\rbool Reflected,\rfloat Frequency,\rfloat Vertical_Offset,\rout vec4 Color)\r{\rvec3 i=normalize(Position-Eye);\rvec3 r=reflect(i,Normal);\rfloat idota=dot(i,Axis);\rfloat idotr=dot(i,r);\rfloat x=Reflected ? idotr : idota;\rvec2 xy;\rxy.x=fract((x*Frequency+1.0)*0.5+UV.y*Vertical_Offset);\rxy.y=0.5;\rColor=texture(Texture,xy);\rColor.rgb*=Tint.rgb;\r}\rvoid Scale_RGB_B346(\rvec4 Color,\rfloat Scalar,\rout vec4 Result)\r{\rResult=vec4(Scalar,Scalar,Scalar,1)*Color;\r}\rvoid Scale_RGB_B344(\rfloat Scalar,\rvec4 Color,\rout vec4 Result)\r{\rResult=vec4(Scalar,Scalar,Scalar,1)*Color;\r}\rvoid Line_Fragment_B362(\rvec4 Base_Color,\rvec4 Highlight_Color,\rfloat Highlight_Width,\rvec3 Line_Vertex,\rfloat Highlight,\rout vec4 Line_Color)\r{\rfloat k2=1.0-clamp(abs(Line_Vertex.y/Highlight_Width),0.0,1.0);\rLine_Color=mix(Base_Color,Highlight_Color,Highlight*k2);\r}\rvoid Edge_B356(\rvec4 RectParms,\rfloat Radius,\rfloat Line_Width,\rvec2 UV,\rfloat Edge_Width,\rfloat Edge_Power,\rout float Result)\r{\rfloat d=length(max(abs(UV)-RectParms.xy,0.0));\rfloat edge=1.0-clamp((1.0-d/(Radius-Line_Width))/Edge_Width,0.0,1.0);\rResult=pow(edge,Edge_Power);\r}\rvoid Gradient_B355(\rvec4 Gradient_Color,\rvec4 Top_Left,\rvec4 Top_Right,\rvec4 Bottom_Left,\rvec4 Bottom_Right,\rvec2 UV,\rout vec4 Result)\r{\rvec3 top=Top_Left.rgb+(Top_Right.rgb-Top_Left.rgb)*UV.x;\rvec3 bottom=Bottom_Left.rgb+(Bottom_Right.rgb-Bottom_Left.rgb)*UV.x;\rResult.rgb=Gradient_Color.rgb*(bottom+(top-bottom)*UV.y);\rResult.a=1.0;\r}\rvoid main()\r{\rfloat X_Q338;\rfloat Y_Q338;\rfloat Z_Q338;\rfloat W_Q338;\rX_Q338=vExtra2.x;\rY_Q338=vExtra2.y;\rZ_Q338=vExtra2.z;\rW_Q338=vExtra2.w;\rvec4 Color_Q343;\r#if IRIDESCENCE_ENABLE\nIridescence_B343(vPosition,vNormal,vUV,vBinormal,cameraPosition,_Iridescence_Tint_,_Iridescent_Map_,_Reflected_,_Frequency_,_Vertical_Offset_,Color_Q343);\r#else\nColor_Q343=vec4(0,0,0,0);\r#endif\nvec4 Result_Q344;\rScale_RGB_B344(_Iridescence_Intensity_,Color_Q343,Result_Q344);\rvec4 Line_Color_Q362;\rLine_Fragment_B362(_Line_Color_,_Highlight_Color_,_Highlight_Width_,vTangent,_Highlight_,Line_Color_Q362);\rfloat Result_Q356;\r#if EDGE_ONLY\nEdge_B356(vExtra1,Z_Q338,W_Q338,vUV,_Edge_Width_,_Edge_Power_,Result_Q356);\r#else\nResult_Q356=1.0;\r#endif\nvec2 Vec2_Q339=vec2(X_Q338,Y_Q338);\rvec4 Result_Q355;\rGradient_B355(_Gradient_Color_,_Top_Left_,_Top_Right_,_Bottom_Left_,_Bottom_Right_,Vec2_Q339,Result_Q355);\rvec4 Linear_Q348;\rLinear_Q348.rgb=clamp(Result_Q355.rgb*Result_Q355.rgb,0.0,1.0);\rLinear_Q348.a=Result_Q355.a;\rvec4 Result_Q346;\rScale_RGB_B346(Linear_Q348,Result_Q356,Result_Q346);\rvec4 Sum_Q345=Result_Q346+Result_Q344;\rvec4 Color_At_T_Q347=mix(Line_Color_Q362,Result_Q346,_Line_Gradient_Blend_);\rvec4 Base_And_Iridescent_Q350;\rBase_And_Iridescent_Q350=_Base_Color_+vec4(Sum_Q345.rgb,0.0);\rvec4 Sum_Q349=Color_At_T_Q347+_Iridescence_Edge_Intensity_*Color_Q343;\rvec4 Result_Q351=Sum_Q349; Result_Q351.a=1.0;\rvec4 Color_Q332;\rRound_Rect_Fragment_B332(Z_Q338,W_Q338,Result_Q351,_Filter_Width_,vUV,1.0,vExtra1,Base_And_Iridescent_Q350,Color_Q332);\rvec4 Result_Q354=_Fade_Out_*Color_Q332;\rvec4 sRGB_Q353;\rFastLinearTosRGB_B353(Result_Q354,sRGB_Q353);\rvec4 Out_Color=sRGB_Q353;\rfloat Clip_Threshold=0.001;\rbool To_sRGB=false;\rgl_FragColor=Out_Color;\r}`;\n// Sideeffect\nShaderStore.ShadersStore[name] = shader;\n/** @internal */\nexport const mrdlBackplatePixelShader = { name, shader };\n"]}